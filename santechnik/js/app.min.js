(()=>{"use strict";function e(e="lock"){document.body.classList.add(e)}function t(e="lock"){document.body.classList.remove(e)}(()=>{function e(e,t,s,n,r){void 0===t&&(t=400),void 0===n&&(n=!1),void 0===r&&(r="block"),e.style.overflow="hidden",n&&(e.style.display=r);var o,i=window.getComputedStyle(e),l=parseFloat(i.getPropertyValue("height")),c=parseFloat(i.getPropertyValue("padding-top")),a=parseFloat(i.getPropertyValue("padding-bottom")),u=parseFloat(i.getPropertyValue("margin-top")),d=parseFloat(i.getPropertyValue("margin-bottom")),m=l/t,v=c/t,p=a/t,g=u/t,b=d/t;window.requestAnimationFrame((function r(i){void 0===o&&(o=i);var h=i-o;n?(e.style.height=m*h+"px",e.style.paddingTop=v*h+"px",e.style.paddingBottom=p*h+"px",e.style.marginTop=g*h+"px",e.style.marginBottom=b*h+"px"):(e.style.height=l-m*h+"px",e.style.paddingTop=c-v*h+"px",e.style.paddingBottom=a-p*h+"px",e.style.marginTop=u-g*h+"px",e.style.marginBottom=d-b*h+"px"),h>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",n||(e.style.display="none"),"function"==typeof s&&s()):window.requestAnimationFrame(r)}))}HTMLElement.prototype.slideToggle=function(t,s,n="block"){0===this.clientHeight?e(this,t,s,!0,n):e(this,t,s)},HTMLElement.prototype.slideUp=function(t,s){e(this,t,s)},HTMLElement.prototype.slideDown=function(t,s,n="block"){e(this,t,s,!0,n)}})(),"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),document.addEventListener("DOMContentLoaded",(()=>{function s(){var e=document.querySelector(".header__wrapper"),t=parseFloat(getComputedStyle(document.documentElement).fontSize);if(e&&t){var s=e.offsetHeight/t;document.body.style.setProperty("--header-height",`${s}rem`)}}!function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",(()=>{t()}))})(),(()=>{const e=document.querySelectorAll("[data-spollers]");if(0==e.length)return;const t=Array.from(e).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));t.length>0&&n(t);const s=Array.from(e).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(s.length>0){const e=[];s.forEach((t=>{const s={},n=t.dataset.spollers.split(",");s.value=n[0],s.type=n[1]?n[1].trim():"max",s.item=t,e.push(s)}));let t=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));t=t.filter((function(e,t,s){return s.indexOf(e)===t})),t.forEach((t=>{const s=t.split(","),r=s[1],o=s[2],i=window.matchMedia(s[0]),l=e.filter((function(e){if(e.value===r&&e.type===o)return!0}));i.addEventListener("change",(()=>{n(l,i)})),n(l,i)}))}function n(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),r(e),e.addEventListener("click",o)):(e.classList.remove("_init"),r(e,!1),e.removeEventListener("click",o))}))}function r(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function o(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const s=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),n=s.closest("[data-spollers]"),r=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(r&&!s.classList.contains("_active")&&function(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.nextElementSibling.slideUp(300))}(n),s.classList.toggle("_active"),s.style.setProperty("pointer-events","none"),s.nextElementSibling.slideToggle(300,(()=>{s.removeAttribute("style")}))),e.preventDefault()}}})(),(()=>{var e=document.querySelectorAll('input[type="tel"]'),t=function(e){return e.value.replace(/\D/g,"")},s=function(e){var s=e.target,n=t(s),r=e.clipboardData||window.clipboardData;if(r){var o=r.getData("Text");if(/\D/g.test(o))return void(s.value=n)}},n=function(e){var s=e.target,n=t(s),r=s.selectionStart,o="";if(!n)return s.value="";if(s.value.length==r){if(["7","8","9"].indexOf(n[0])>-1){"9"==n[0]&&(n="7"+n);var i="8"==n[0]?"8":"+7";o=s.value=i+" ",n.length>1&&(o+="("+n.substring(1,4)),n.length>=5&&(o+=") "+n.substring(4,7)),n.length>=8&&(o+="-"+n.substring(7,9)),n.length>=10&&(o+="-"+n.substring(9,11))}else o="+"+n.substring(0,16);s.value=o}else e.data&&/\D/g.test(e.data)&&(s.value=n)},r=function(e){var t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")};for(var o of e)o.addEventListener("keydown",r),o.addEventListener("input",n,!1),o.addEventListener("paste",s,!1)})(),(()=>{const e=document.querySelectorAll("img[data-src], source[data-srcset]"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const s=e.target;s.hasAttribute("src")&&(s.src=s.dataset.src,s.removeAttribute("data-src"),s.removeAttribute("height")),s.hasAttribute("srcset")&&(s.srcset=s.dataset.srcset,s.removeAttribute("data-srcset")),t.unobserve(s)}}))}));e.forEach((e=>{t.observe(e)}));const s=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const s=e.target;s.paused&&s.play(),t.unobserve(s)}}))}));document.querySelectorAll("video").forEach((e=>{s.observe(e)}))})(),document.addEventListener("click",(s=>{const n=s.target;if(n.classList.contains("wrapper")&&(document.querySelectorAll(".service__popup")?.forEach((e=>e.classList.remove("active"))),t()),n.matches(".search__toggler")&&(document.querySelectorAll(".menu__btn.active")?.forEach((e=>{e.classList.remove("active"),e.nextElementSibling?.classList.remove("open")})),document.querySelector(".search").classList.add("active"),setTimeout((()=>{document.querySelector(".search__form-input")?.focus()}),300),e()),n.matches(".header")){const e=document.querySelector(".search"),s=document.querySelector(".submenu.open");e?.classList.contains("active")&&(e.classList.remove("active"),t()),s&&(s.previousElementSibling?.classList.remove("active"),s.classList.remove("open"),t())}if(n.matches(".menu__btn")&&(document.querySelector(".search").classList.remove("active"),window.innerWidth>768?document.querySelectorAll(".menu__btn.active").forEach((e=>{e!==n&&(e.classList.remove("active"),e.nextElementSibling?.classList.remove("open"))})):document.querySelectorAll(".menu__btn.active").forEach((e=>{n.closest(".submenu")||e!==n&&(e.classList.remove("active"),e.nextElementSibling?.classList.remove("open"))})),n.classList.toggle("active"),n.nextElementSibling?.classList.toggle("open"),document.querySelector(".menu__btn.active")?e():t()),n.matches(".submenu__close")&&(n.closest(".submenu").previousElementSibling?.classList.remove("active"),n.closest(".submenu").classList.remove("open"),t()),n.matches(".submenu__search")&&(n.closest(".submenu").previousElementSibling?.classList.remove("active"),n.closest(".submenu").classList.remove("open"),t(),document.querySelector(".search__toggler").dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))),n.matches(".menu__search-toggler")&&document.querySelector(".search__toggler").dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})),n.matches(".submenu__btn")&&(document.querySelectorAll(".submenu__btn.active").forEach((e=>{e!==n&&(e.classList.remove("active"),e.nextElementSibling?.classList.remove("open"))})),n.classList.toggle("active"),n.nextElementSibling?.classList.toggle("open")),n.matches(".subsubmenu__close")&&(n.closest(".subsubmenu").previousElementSibling?.classList.remove("active"),n.closest(".subsubmenu").classList.remove("open")),n.matches(".tabs__btn")){n.classList.add("active"),Array.from(n.parentElement.children).forEach((e=>{e!==n&&e.classList.remove("active")}));const e=document.querySelectorAll(".tabs__btn"),t=document.querySelectorAll(".tabs__content"),s=Array.prototype.indexOf.call(e,n);t.forEach(((e,t)=>{t===s?e.classList.add("active"):e.classList.remove("active")}))}n.matches(".prices__btn")&&(n.previousElementSibling?.querySelector(".prices__table-hidden").slideToggle(300,(()=>{}),"table-row-group"),n.classList.toggle("active"),n.classList.contains("active")?n.textContent="Cкрыть":(n.textContent="Смотреть прайс полностью",window.scrollTo({top:document.querySelector(".prices")?.getBoundingClientRect().top,behavior:"smooth"}))),n.matches(".text-block__full")&&(n.classList.toggle("active"),n.previousElementSibling?.classList.toggle("active"),n.classList.contains("active")?n.textContent="Cкрыть":n.textContent="Читать далее")})),document.querySelector(".reviews__slider")&&new Swiper(".reviews__slider",{slidesPerView:1.15,spaceBetween:20,watchSlidesProgress:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},breakpoints:{767.98:{slidesPerView:2}}}),document.querySelector(".reviews__more-slider")&&new Swiper(".reviews__more-slider",{slidesPerView:"auto",spaceBetween:20,watchSlidesProgress:!0,pagination:{el:".reviews__more-pagination",clickable:!0}}),document.querySelector(".more__slider")&&new Swiper(".more__slider",{slidesPerView:"auto",spaceBetween:10,watchSlidesProgress:!0,navigation:{nextEl:".more__next",prevEl:".more__prev"},breakpoints:{1399.98:{slidesPerView:3,spaceBetween:20}}}),document.querySelector(".works__slider")&&new Swiper(".works__slider",{slidesPerView:"auto",spaceBetween:20,watchSlidesProgress:!0,navigation:{nextEl:".works__next",prevEl:".works__prev"}}),document.querySelector(".tabs__btns")&&new Swiper(".tabs__btns",{slidesPerView:"auto",watchSlidesProgress:!0,breakpoints:{1399.98:{slidesPerView:4}}}),document.querySelector(".breadcrumbs__slider")&&new Swiper(".breadcrumbs__slider",{slidesPerView:"auto",spaceBetween:8}),document.querySelectorAll(".service__slider")&&document.querySelectorAll(".service__slider")?.forEach((e=>{const t=new Swiper(e.querySelector(".service__slider-thumbs"),{slidesPerView:3,spaceBetween:12,watchOverflow:!0});new Swiper(e.querySelector(".service__slider-main"),{slidesPerView:1,watchSlidesProgress:!0,navigation:{nextEl:".service__next",prevEl:".service__prev"},thumbs:{swiper:t}})})),document.addEventListener("scroll",(e=>{scrollY>0?document.querySelector(".header").classList.add("scroll"):document.querySelector(".header").classList.remove("scroll")})),s(),window.addEventListener("resize",s),function(){const e=document.querySelector(".header"),t=document.querySelector(".header__search"),s=document.querySelector(".menu"),n=document.querySelector(".header__top");function r(){window.innerWidth<768||e.classList.contains("scroll")?s.contains(t)||s.appendChild(t):n.contains(t)||n.appendChild(t)}e&&t&&s&&n&&(new MutationObserver(r).observe(e,{attributes:!0,attributeFilter:["class"]}),window.addEventListener("resize",r),r())}();let n=0,r=!1;document.addEventListener("touchstart",(e=>{0===window.scrollY&&(n=e.touches[0].clientY)})),document.addEventListener("touchmove",(e=>{0===window.scrollY&&e.touches[0].clientY>n+50&&(r=!0)})),document.addEventListener("touchend",(()=>{r&&setTimeout((()=>{window.scrollTo(0,0),document.documentElement.style.scrollBehavior="auto",requestAnimationFrame((()=>{document.documentElement.style.scrollBehavior=""}))}),50),r=!1}))}))})();